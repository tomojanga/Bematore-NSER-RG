# ========================================
# Django Production Settings for cPanel
# Deploy at: api.bematore.com
# ========================================

# Django Core Settings
# IMPORTANT: Variable names must match what base.py expects!
# base.py expects: SECRET_KEY, DEBUG, ALLOWED_HOSTS (no DJANGO_ prefix)
DJANGO_SETTINGS_MODULE=config.settings.production
SECRET_KEY=django-insecure-CHANGE-THIS-TO-RANDOM-50-CHARS-MINIMUM-USE-GENERATOR
DEBUG=False
ALLOWED_HOSTS=api.bematore.com,www.api.bematore.com

# Database - PostgreSQL (Render.com)
# Your actual Render.com PostgreSQL URL
DATABASE_URL=postgresql://nser_user:DYd0uhVgsC7cw5hOtIoSD7EClPilGuUD@dpg-d45h5e6uk2gs73chrk90-a.oregon-postgres.render.com/nser
DATABASE_CONN_MAX_AGE=600

# These are extracted from DATABASE_URL automatically, but you can override
# DB_NAME=nser
# DB_USER=nser_user
# DB_PASSWORD=DYd0uhVgsC7cw5hOtIoSD7EClPilGuUD
# DB_HOST=dpg-d45h5e6uk2gs73chrk90-a.oregon-postgres.render.com
# DB_PORT=5432

# Redis (Optional - if not available on cPanel, Django will use dummy cache)
# Most shared cPanel hosting doesn't have Redis, leave these for future
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CACHE_REDIS_URL=redis://localhost:6379/3

# Elasticsearch (Optional - usually not available on shared hosting)
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_URL=http://localhost:9200

# Security Keys - IMPORTANT: Generate new keys for production!
# Generate at: https://djecrety.ir/ or use: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
ENCRYPTION_KEY=GENERATE-NEW-256-BIT-BASE64-KEY-FOR-PRODUCTION
JWT_SECRET_KEY=GENERATE-NEW-RANDOM-SECRET-KEY-DIFFERENT-FROM-DJANGO-SECRET
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_LIFETIME=900
JWT_REFRESH_TOKEN_LIFETIME=86400

# OAuth2 (Configure if using OAuth)
OAUTH2_CLIENT_ID=your-production-client-id
OAUTH2_CLIENT_SECRET=your-production-client-secret

# AWS S3 (Optional - for static/media file storage)
# Set USE_S3=True if you want to use S3 for file storage
USE_S3=False
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_STORAGE_BUCKET_NAME=
AWS_S3_REGION_NAME=af-south-1

# M-Pesa Integration - PRODUCTION CREDENTIALS
# ⚠️ Use PRODUCTION keys, not sandbox!
MPESA_ENVIRONMENT=production
MPESA_CONSUMER_KEY=your-production-mpesa-consumer-key
MPESA_CONSUMER_SECRET=your-production-mpesa-consumer-secret
MPESA_SHORTCODE=your-production-shortcode
MPESA_PASSKEY=your-production-passkey
MPESA_INITIATOR_NAME=your-initiator-name
MPESA_SECURITY_CREDENTIAL=your-security-credential

# SMS Gateway - Africa's Talking Production
SMS_API_KEY=your-production-sms-api-key
SMS_API_SECRET=your-production-sms-api-secret
SMS_SENDER_ID=BEMATORE
AFRICASTALKING_USERNAME=your-at-username
AFRICASTALKING_API_KEY=your-production-at-api-key

# Email Configuration (Gmail SMTP)
# ⚠️ Use App Password, not your regular Gmail password
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=brand254ke@gmail.com
EMAIL_HOST_PASSWORD=jmva mzjf vjgo ucma
DEFAULT_FROM_EMAIL=noreply@bematore.com
SERVER_EMAIL=server@bematore.com

# Alternative Email: SendGrid (recommended for production)
# EMAIL_BACKEND=sendgrid_backend.SendgridBackend
# SENDGRID_API_KEY=your-sendgrid-api-key

# Monitoring & Error Tracking
# Sentry (Recommended for production error tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# New Relic (Optional)
NEW_RELIC_LICENSE_KEY=

# Datadog (Optional)
DATADOG_API_KEY=

# External API Keys
GRAK_API_KEY=your-grak-api-key
NACADA_API_KEY=your-nacada-api-key
IPRS_API_KEY=your-iprs-api-key

# Feature Flags
ENABLE_ML_PREDICTIONS=True
ENABLE_REAL_TIME_DASHBOARDS=True
ENABLE_WEBHOOK_NOTIFICATIONS=True
ENABLE_GEOLOCATION=True

# Performance Settings
CONN_MAX_AGE=600

# Server Workers (for reference - configured in cPanel Python App)
# These don't apply to Passenger/cPanel, but kept for documentation
GUNICORN_WORKERS=4
CELERY_WORKERS=10

# Static & Media Files
# If using local storage (default)
STATIC_URL=/static/
MEDIA_URL=/media/

# Admin Panel
ADMIN_URL=admin/

# CORS Settings (if your frontend is on different domain)
CORS_ALLOWED_ORIGINS=https://bematore.com,https://www.bematore.com
CORS_ALLOW_CREDENTIALS=True

# Session & Cookie Security
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_SSL_REDIRECT=True
SECURE_BROWSER_XSS_FILTER=True
SECURE_CONTENT_TYPE_NOSNIFF=True
X_FRAME_OPTIONS=DENY

# HTTPS Settings
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
